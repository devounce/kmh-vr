<!DOCTYPE html>
<html>
<head>
  <title>クイズ1</title>
  <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
</head>
<body>
  <a-scene>
    <a-assets>
      <video id="vid" autoplay src="https://devounce.io/projects/kmh-vr/videos/quiz_manual-3.25.mp4"></video>
    </a-assets>

    <a-videosphere src="#vid" id="videoSphere"></a-videosphere>
  </a-scene>

  <div id="quiz-container" style="display:none;">
    <h1>クイズ1</h1>
    <p>アトロピンを準備したが、何mg投与した？</p>
    <button onclick="submitAnswer('A')">A: アトロピン1mg</button>
    <button onclick="submitAnswer('B')">B: アトロピン2mg</button>
    <button onclick="submitAnswer('C')">C: アトロピン3mg</button>
  </div>

  <script>
    // 動画の再生が終了したらクイズを表示
    document.querySelector('#videoSphere').addEventListener('materialvideoended', function () {
      document.getElementById('quiz-container').style.display = 'block';
    });

    // a-sceneが読み込まれたら動画を再生
    document.querySelector('a-scene').addEventListener('loaded', function () {
      var videoEl = document.querySelector('#vid');
      videoEl.play();
    });
  </script>

  <script src="quiz_logic.js"></script>
</body>
</html>
